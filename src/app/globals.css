/* 1. Importa TODO Tailwind (la forma de v4) */
@import "tailwindcss";
/* 2. Define tus keyframes (animaciones) */
/* El documento dice que esto puede ir en @theme O fuera. Lo dejamos fuera. */
@layer base {
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
}

/* 3. Define TODAS tus personalizaciones de tema aquí
   CON LOS PREFIJOS CORRECTOS
*/
@theme {
  
  /* === Colores (colors) -> Namespace: --color-* === */
  --color-white: #FFFFFF;
  --color-black: #000000;
  --color-dark: #0e0e0e;
  --color-gray: #262626;
  --color-light: #f5f5f5;
  --color-brand-green: #05381A;
  --color-brand-green-light: #C5F1D8;
  /* Ahora `bg-brand-green` SÍ funcionará */

  /* === Tipografía (fontFamily) -> Namespace: --font-* === */
  --font-sans: "Mont", sans-serif;

  /* === Tamaño de Fuente (fontSize) -> Namespace: --text-* === */
  --text-sm: 0.75rem;
  --text-base: 1rem;
  --text-lg: 1.333rem;
  --text-xl: 1.777rem;
  --text-2xl: 2.369rem;
  --text-3xl: 3.157rem;
  --text-4xl: 4.209rem;
  --text-5xl: 5.61rem;
  /* Ahora `text-5xl` SÍ usará 7.993rem */
  
  /* === Animaciones (animation) -> Namespace: --animate-* === */
  --animate-spin-slow: spin 15s linear infinite;
  /* Ahora `animate-spin-slow` SÍ funcionará */
}

/* --- INICIO: Estilos de Mouse Follower (Corregidos) --- */

/* 1. Estado base (inversión de color) */
.mf-cursor {
  mix-blend-mode: difference !important;
  background: white !important;
  filter: none !important;
}
.mf-cursor::before {
  background: white !important;
}

/* 2. Estado de Texto (cuando aparece "Ver más") */
.mf-cursor.-text {
  mix-blend-mode: normal !important;
  background: white !important;
  border: 1px solid #e0e0e0;
}
.mf-cursor-text {
  color: black !important;
  font-weight: 500 !important;
}

/* --- ¡AQUÍ ESTÁ LA SOLUCIÓN! --- */

/* 3. Estilo para "Magnético" (botones de video) */
/* 3. Estilo para "Magnético" (pequeño: botones de video, redes sociales) */
.mf-cursor.-pointer::before {
  transform: scale(1.25) !important; /* Más pequeño */
  transition: transform 0.2s ease-in-out !important;
}

/* NUEVO: Estilo para "Menú Principal" (grande) */
.mf-cursor.-pointer-large::before {
  transform: scale(1.75) !important; /* Más grande */
  transition: transform 0.2s ease-in-out !important;
}

/* NUEVO: Estilo para "Blog Cards" (Triple) */
.mf-cursor.-pointer-blog::before {
  transform: scale(1.5) !important; /* El tamaño "triple" que pediste */
  transition: transform 0.2s ease-in-out !important;
}

/* 4. Estilo para "Absorber" (botón de menú) */
.menu-icon-trigger.is-stick-stuck ~ .mf-cursor.-stick {
  opacity: 0 !important;
  transition: opacity 0.2s ease-in-out !important;
}

@media (max-width: 1024px) {
  
  /* Oculta el cursor personalizado */
  .mf-cursor {
    display: none !important;
  }
}
/* --- FIN: Estilos de Mouse Follower --- */

/* --- INICIO: ESTILOS DE BOTONES DE FORMULARIO (CHECKBOX Y RADIO) --- */

/* Oculta el input nativo */
.form-checkbox > input,
.form-radio > input {
  position: absolute;
  opacity: 0;
  margin: 0;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

/* Contenedor base */
.form-checkbox,
.form-radio {
  position: relative;
  display: inline-block;
}

/* Estilo de la “caja” (botón visual) */
.checkbox-box,
.radio-box {
  display: inline-block;
  padding: 0.9rem 1.2rem;
  overflow: hidden;
  transform: translateZ(0);
  border-radius: 1000px;
  cursor: pointer;
  user-select: none;
  font-weight: 500;
  font-size: 20px;
  line-height: 1.18;
  transition: transform 0.3s;
}
@media (min-width: 768px) {
  .checkbox-box,
  .radio-box {
    padding: 1.4rem 2rem;
    font-size: 32px;
  }
}

/* Outline al enfocar */
.form-checkbox > input:focus-visible ~ .checkbox-box,
.form-radio > input:focus-visible ~ .radio-box {
  outline: 2px solid #000;
  outline-offset: 2px;
}

/* Estado “checked” (expansión ligera) */
.form-checkbox > input:checked ~ .checkbox-box,
.form-radio > input:checked ~ .radio-box {
  transform: scaleX(1.02);
  transition: transform 0.5s cubic-bezier(0.34, 5.56, 0.64, 1);
}

/* Borde animado */
.checkbox-border,
.radio-border {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0.1px;
  z-index: 3;
  border: 1px solid currentColor;
  border-radius: 1000px;
}

/* Contenedor del efecto “ripple” (fondo) */
.checkbox-ripple,
.radio-ripple {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  overflow: hidden;
  transform: translateZ(0);
  border-radius: inherit;
}

/* Animación del “ripple” (el span interno) */
.checkbox-ripple span,
.radio-ripple span {
  display: block;
  width: 100%;
  height: 100%;
  background: currentColor; /* Hereda el color (negro) */
  transform: translateY(101%);
  border-radius: 50% 50% 0 0;
  transition: transform 0.5s cubic-bezier(0.4, 0, 0, 1),
              border-radius 0.5s cubic-bezier(0.4, 0, 0, 1);
}

/* Al marcar, se activa el ripple */
.form-checkbox > input:checked ~ .checkbox-box .checkbox-ripple span,
.form-radio > input:checked ~ .radio-box .radio-ripple span {
  border-radius: 0;
  transform: translateY(0);
  transition-duration: 0.5s, 0.9s;
}

/* --- ANIMACIÓN DE TEXTO (LÓGICA CORRECTA DE WEBFLOW) --- */

.checkbox-title,
.radio-title {
  position: relative;
  display: block;
  padding: 0 0.16em 0 0;
  overflow: hidden;
  z-index: 2;
}

/* 1. El 'span' (texto visible) */
.checkbox-title span,
.radio-title span {
  display: block;
  /* El color es heredado (negro) */
  transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1), color 0.4s;
}

/* 2. El '::after' (texto oculto) */
.checkbox-title span::after,
.radio-title span::after {
  content: attr(data-text);
  position: absolute;
  top: 110%; /* Posicionado abajo */
  left: 0;
  color: inherit; /* Hereda el color del span (negro al inicio) */
}

/* 3. Animación de 'hover' (Desktop) */
@media (pointer: fine) {
  .form-checkbox:not(:has(:checked)):hover .checkbox-title span,
  .form-radio:not(:has(:checked)):hover .radio-title span {
    transform: translateY(-110%) translateZ(0);
  }
}

/* 4. Animación de 'checked' */
.form-checkbox > input:checked ~ .checkbox-box .checkbox-title span,
.form-radio > input:checked ~ .radio-box .radio-title span {
  transform: translateY(-110%) translateZ(0);
  color: #fff; /* El span (y su ::after que hereda) se vuelven BLANCOS */
}

/* --- INICIO: CORRECCIÓN DE Z-INDEX DE PHONEINPUT --- */

/* Esto selecciona el 'div.iti' que la librería intl-tel-input
  crea DENTRO de nuestro 'div.form_field'.
*/
.form_field > .iti {
  position: relative; /* Necesario para que z-index funcione */
  z-index: 2;         /* Pone el input Y la bandera por encima de la "ola" */
}

/* --- FIN: CORRECCIÓN DE Z-INDEX --- */

/* --- FIN DE ESTILOS DE BOTONES DE FORMULARIO --- */

/* --- INICIO: CORRECCIÓN DE Z-INDEX DE reCAPTCHA --- */

/* Esto selecciona la insignia que Google inyecta.
  La ponemos por encima de nuestro Footer (z-80) y 
  Botón Flotante (z-90), pero por debajo de la 
  cortina de transición (z-9999).
*/
.grecaptcha-badge {
  z-index: 9990 !important;
}

/* --- FIN: CORRECCIÓN DE Z-INDEX DE reCAPTCHA --- */

/* --- INICIO: Animación de Botón de Menú --- */

/* 1. El contenedor del icono (las 2 líneas) 
   Este es el 'div' que en nuestro Header.tsx tiene la clase 'menu-icon-trigger'
*/
.cuberto-menu-icon {
  position: relative; /* Necesario para que los 'span' absolutos vivan dentro */
  width: 1.5rem; /* 24px (w-6) */
  height: 1.5rem; /* 24px (h-6) */
}

/* 2. Estilo de las líneas (ambos spans) */
.cuberto-menu-icon span {
  display: block;
  position: absolute;
  left: 0;
  right: 0;
  height: 2px; /* h-0.5 es 2px */
  background: currentColor; /* Hereda el 'text-black' del header */
  
  /* Transición para cuando se *cierra* (de X a =) */
  transition: top 0.2s 0.3s, transform 0.3s 0s;
}

/* 3. Posición de las líneas en estado "Hamburguesa" (cerrado) */
.cuberto-menu-line-1 {
  top: calc(50% - 1px - 0.25rem); /* Posición de la línea superior */
}
.cuberto-menu-line-2 {
  top: calc(50% - 1px + 0.25rem); /* Posición de la línea inferior */
}

/* 4. Estado "X" (abierto) - Aquí se activa la animación */
.is-active .cuberto-menu-icon span {
  /* Quita la transición de cierre para que la animación de apertura tome control */
  transition: none;
}

.is-active .cuberto-menu-line-1 {
  top: calc(50% - 1px); /* Mueve al centro */
  transform: rotate(45deg);
  /* (clip-path se maneja en la animación) */
  animation: cuberto-menu-open-top 1s;
}

.is-active .cuberto-menu-line-2 {
  top: calc(50% - 1px); /* Mueve al centro */
  transform: rotate(-45deg);
  /* (clip-path se maneja en la animación) */
  animation: cuberto-menu-open-bottom 1s;
}

/* 5. Keyframes de "Limpieza y Revelado" (Copiados de Cuberto) */

/* Animación de la línea superior */
@keyframes cuberto-menu-open-top {
  0% {
    top: calc(50% - 1px - 0.25rem); /* Posición inicial (arriba) */
    clip-path: inset(0 0 0 0);
    transform: rotate(0);
  }
  30% {
    top: calc(50% - 1px - 0.25rem); /* Sigue arriba */
    clip-path: inset(0 100% 0 0); /* "Borra" la línea */
    transform: rotate(0);
  }
  30.01% {
    top: calc(50% - 1px); /* Salta al centro (invisible) */
    clip-path: inset(0 100% 0 0); /* Sigue borrada */
    transform: rotate(45deg); /* Ya está rotada */
  }
  80%, 100% {
    top: calc(50% - 1px); /* Permanece en el centro */
    clip-path: inset(0 0 0 0); /* "Revela" la línea */
    transform: rotate(45deg);
  }
}

/* Animación de la línea inferior */
@keyframes cuberto-menu-open-bottom {
  0% {
    top: calc(50% - 1px + 0.25rem); /* Posición inicial (abajo) */
    clip-path: inset(0 0 0 0);
    transform: rotate(0);
  }
  50% {
    top: calc(50% - 1px + 0.25rem); /* Sigue abajo */
    clip-path: inset(0 0 0 100%); /* "Borra" la línea (desde la izquierda) */
    transform: rotate(0);
  }
  50.01% {
    top: calc(50% - 1px); /* Salta al centro (invisible) */
    clip-path: inset(0 0 0 100%); /* Sigue borrada */
    transform: rotate(-45deg); /* Ya está rotada */
  }
  100% {
    top: calc(50% - 1px); /* Permanece en el centro */
    clip-path: inset(0 0 0 0); /* "Revela" la línea */
    transform: rotate(-45deg);
  }
}

/* --- FIN: Animación de Botón de Menú --- */